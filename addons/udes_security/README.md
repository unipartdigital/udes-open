# UDES Security

## Attachments

* Users can only upload or download allowed file types.
* Users cannot cannot upload or download a file without an extension.
* Superuser is exempt from the above, but any files that do not have an allowed file type will be made inactive.
* If changing a file type to another, the attachment will adopt the state of that file type.
For example, if CSV is allowed and JSON isn't, then test.csv is changed to test.json.
The attachment will then become inactive. It cannot be changed to an invalid file type unless the
user is a superuser.
* There are cases when attachments generated by the system (i.e. not by uploading a file) will be set to active.
For example when an avatar image attachment is created for a user (e.g. image_1920)
* Superuser and human admin user (the default admin user created by Odoo) are exempt from the allowed file type check in IrAttachment

## Allowed File Types

* Only one record can exist per file type. (e.g. CSV)
* The extension is stored lowercase, and any file extensions are made lowercase when checked.
* Allowed File Type records can be made inactive, indicating that the File Type is now blocked.
* If an Allowed File Type is created or made active, any inactive attachments of that file type will be made active.
Conversely, if an Allowed File Type is deleted or made inactive, any existing attachments of that file type will be made inactive.
* Only users with Manage Allowed File Types can create/delete active file types and set them as active/inactive. By default only superuser or default admin can grant this group to other users.
