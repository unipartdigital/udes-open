<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_location_form" model="ir.ui.view">
        <field name="name">Changes to location form</field>
        <field name="model">stock.location</field>
        <field name="inherit_id" ref="stock.view_location_form"/>
        <field name="arch" type="xml">

            <!-- Add barcode -->
            <xpath expr="//field[@name='return_location']" position="after">
                <field name="barcode"/>
                <field name="u_limit_orderpoints" />
                <field name="u_storage_format"/>
                <field name="u_location_storage_format" groups="stock.group_stock_manager"/>
                <field name="u_location_is_countable"/>
            </xpath>

            <xpath expr="//field[@name='removal_strategy_id']" position="after">
                <field name="u_height_category_id" />
                <field name="u_speed_category_id" />
                <field name="u_location_category_id" />
            </xpath>

            <!-- Add button to show all child locations -->
            <xpath expr="//button[@name='%(stock.location_open_quants)d']" position="after">
                <button string="Child Locations"
                        class="oe_stat_button"
                        icon="fa-level-down"
                        type="object"
                        name="button_view_child_locations"
                />
            </xpath>

            <group name="additional_info" position="after">
                <group string="Localization" name="localization">
                    <field name="posx"/>
                    <field name="posy"/>
                    <field name="posz"/>
                    <field name="u_size"/>
                </group>
            </group>

        </field>
    </record>

    <!-- Replace 'Odoo' with 'UDES' in the tree view help text. -->
    <record id="stock.action_location_form" model="ir.actions.act_window">
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
              Add a new location
            </p><p>
              Define your locations to reflect your warehouse structure and
              organization. UDES is able to manage physical locations
              (warehouses, shelves, bin, etc), partner locations (customers,
              vendors) and virtual locations which are the counterpart of
              the stock operations like the manufacturing orders
              consumptions, inventories, etc.
            </p><p>
              Every stock operation in UDES moves the products from one
              location to another one.  For instance, if you receive products
              from a vendor, UDES will move products from the Vendor
              location to the Stock location. Each report can be performed on
              physical, partner or virtual locations.
            </p>
          </field>
    </record>

    <!-- Move Locations menu item outside of config menu -->
    <menuitem id="stock.menu_action_location_form" parent="stock.menu_stock_root" sequence="5" name="Locations"/>
</odoo>
